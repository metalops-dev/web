---
const today = new Date();
---

<footer>
	<div class="footer-main">
		<div class="footer-content">
			<span>&copy; {today.getFullYear()} metalops.dev</span>
			<span class="sep">·</span>
			<a href="/rss.xml">rss</a>
			<span class="sep">·</span>
			<a href="https://adrianvillanueva.com" target="_blank" rel="noopener">adrian villanueva</a>
			<span class="sep">·</span>
			<a href="https://resume.adrianvillanueva.com" target="_blank" rel="noopener">resume</a>
		</div>
	</div>
	<div class="footer-badges">
		<a href="https://hayahora.futbol/#sobre-los-bloqueos" target="_blank" rel="noopener noreferrer" class="badge-link" id="laliga-link">
			<img src="/blocked.png" alt="LaLiga blocking notice" id="laliga-img" loading="lazy" />
			<span class="badge-label">#LaLigaGate</span>
		</a>
		<div class="badge-item">
			<img src="/ai.svg" alt="Built with AI" loading="lazy" />
		</div>
	</div>
</footer>

<script>
	const lang = navigator.language || (navigator.languages && navigator.languages[0]) || 'en';
	const isSpanish = String(lang).toLowerCase().startsWith('es');
	const img = document.getElementById('laliga-img') as HTMLImageElement | null;
	const link = document.getElementById('laliga-link') as HTMLAnchorElement | null;
	const targetUrl = 'https://hayahora.futbol/#sobre-los-bloqueos';
	if (link) {
		link.href = targetUrl;
		link.target = '_blank';
		link.rel = 'noopener noreferrer';
	}
	if (img) {
		img.src = isSpanish ? '/bloqueo.png' : '/blocked.png';
	}
</script>
<style>
	footer {
		border-top: 2px solid var(--border);
		margin-top: 4rem;
	}
	.footer-main {
		max-width: 680px;
		margin: 0 auto;
		padding: 1.5rem;
	}
	.footer-content {
		display: flex;
		align-items: center;
		justify-content: center;
		flex-wrap: wrap;
		gap: 0.5rem;
		font-size: 0.85rem;
		color: var(--muted);
	}
	.sep {
		color: var(--border);
	}
	footer a {
		color: var(--muted);
		text-decoration: none;
	}
	footer a:hover {
		color: var(--fg);
		background: transparent;
		text-decoration: underline;
	}
	.footer-badges {
		max-width: 680px;
		margin: 0 auto;
		padding: 0 1.5rem 2rem;
		display: flex;
		align-items: flex-end;
		justify-content: center;
		gap: 2rem;
		flex-wrap: wrap;
	}
	.badge-link {
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		text-decoration: none;
		gap: 0.375rem;
	}
	.badge-link:hover {
		background: transparent !important;
		color: inherit !important;
	}
	.badge-link img {
		max-width: 280px;
		width: 100%;
		height: auto;
		border: 1px solid var(--border);
		opacity: 0.7;
	}
	.badge-label {
		font-size: 0.7rem;
		font-weight: 700;
		color: var(--muted);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}
	.badge-item {
		display: flex;
		align-items: center;
	}
	.badge-item img {
		height: 3rem;
		width: auto;
		opacity: 0.5;
	}
	@media (max-width: 500px) {
		.footer-badges {
			flex-direction: column;
			align-items: center;
			gap: 1.5rem;
		}
		.badge-link {
			align-items: center;
		}
	}
</style>
