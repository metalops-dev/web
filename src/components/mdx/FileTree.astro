---
interface Props {
	title?: string;
}

const { title } = Astro.props;
---

<figure class="file-tree">
	{title && <figcaption>{title}</figcaption>}
	<div class="tree-content">
		<slot />
	</div>
</figure>

<style>
	.file-tree {
		margin: 1.5rem 0;
		border: 1px solid var(--border);
		font-family: var(--font-mono);
		font-size: 0.875rem;
	}
	figcaption {
		padding: 0.5rem 1rem;
		background: var(--code-bg);
		border-bottom: 1px solid var(--border);
		font-weight: 700;
		font-size: 0.8rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}
	.tree-content {
		padding: 1rem;
		background: var(--code-bg);
	}
	.tree-content :global(ul) {
		list-style: none;
		padding-left: 1.5rem;
		margin: 0;
	}
	.tree-content :global(ul:first-child) {
		padding-left: 0;
	}
	.tree-content :global(li) {
		position: relative;
		line-height: 1.6;
	}
	.tree-content :global(li::before) {
		content: '├─ ';
		color: var(--muted);
	}
	.tree-content :global(li:last-child::before) {
		content: '└─ ';
	}
	.tree-content :global(strong),
	.tree-content :global(b) {
		color: var(--fg);
	}
</style>
