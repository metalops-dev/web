---
interface Props {
	title?: string;
}

const { title } = Astro.props;
---

<figure class="steps">
	{title && <figcaption>{title}</figcaption>}
	<div class="steps-content">
		<slot />
	</div>
</figure>

<style>
	.steps {
		margin: 1.5rem 0;
	}
	figcaption {
		font-weight: 700;
		text-transform: uppercase;
		font-size: 0.8rem;
		letter-spacing: 0.05em;
		margin-bottom: 1rem;
		padding-bottom: 0.5rem;
		border-bottom: 2px solid var(--fg);
	}
	.steps-content {
		counter-reset: step;
	}
	.steps-content :global(> *) {
		position: relative;
		padding-left: 3rem;
		margin-bottom: 1.5rem;
	}
	.steps-content :global(> *::before) {
		counter-increment: step;
		content: counter(step);
		position: absolute;
		left: 0;
		top: 0;
		width: 2rem;
		height: 2rem;
		display: flex;
		align-items: center;
		justify-content: center;
		background: var(--fg);
		color: var(--bg);
		font-family: var(--font-mono);
		font-weight: 700;
		font-size: 0.875rem;
	}
	.steps-content :global(h3),
	.steps-content :global(h4) {
		margin-top: 0;
		font-size: 1rem;
	}
</style>
