---
// Giscus comments component
// Configure at https://giscus.app
interface Props {
	repo?: string;
	repoId?: string;
	category?: string;
	categoryId?: string;
}

const {
	repo = "metalops-dev/web",
	repoId = "", // Get from giscus.app
	category = "Comments",
	categoryId = "", // Get from giscus.app
} = Astro.props;
---

<section class="comments">
	<h2>Comments</h2>
	<div class="giscus"></div>
</section>

<script
	src="https://giscus.app/client.js"
	data-repo={repo}
	data-repo-id={repoId}
	data-category={category}
	data-category-id={categoryId}
	data-mapping="pathname"
	data-strict="0"
	data-reactions-enabled="1"
	data-emit-metadata="0"
	data-input-position="top"
	data-theme="preferred_color_scheme"
	data-lang="en"
	data-loading="lazy"
	crossorigin="anonymous"
	async
></script>

<style>
	.comments {
		margin-top: 4rem;
		padding-top: 2rem;
		border-top: 2px solid var(--border);
	}
	.comments h2 {
		font-size: 1rem;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		margin-bottom: 1.5rem;
	}
</style>
